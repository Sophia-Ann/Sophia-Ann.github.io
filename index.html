<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Sophia's Blog</title><meta name="description"><meta name="author" content="Sophia"><meta name="copyright" content="Sophia"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/2.jpg"><link rel="canonical" href="http://yoursite.com/"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="360-site-verification" content="{&quot;theme_color&quot;:{&quot;enable&quot;:true,&quot;main&quot;:&quot;#9370DB&quot;,&quot;paginator&quot;:&quot;#7A7FF1&quot;,&quot;button_hover&quot;:&quot;#FF7242&quot;,&quot;text_selection&quot;:&quot;##69c46d&quot;,&quot;link_color&quot;:&quot;#99a9bf&quot;,&quot;meta_color&quot;:&quot;#858585&quot;,&quot;hr_color&quot;:&quot;#A4D8FA&quot;}}"/><meta property="og:type" content="website"><meta property="og:title" content="Sophia's Blog"><meta property="og:url" content="http://yoursite.com/"><meta property="og:site_name" content="Sophia's Blog"><meta property="og:description"><meta property="og:image" content="http://yoursite.com/img/avatar.jpg"><meta property="article:published_time" content="2022-03-15T15:33:31.360Z"><meta property="article:modified_time" content="2022-03-15T15:33:31.360Z"><meta name="twitter:card" content="summary"><script>var activateDarkMode = function () {
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#000')
  }
}
var activateLightMode = function () {
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#fff')
  }
}

var getCookies = function (name) {
  const value = `; ${document.cookie}`
  const parts = value.split(`; ${name}=`)
  if (parts.length === 2) return parts.pop().split(';').shift()
}

var autoChangeMode = 'false'
var t = getCookies('theme')
if (autoChangeMode === '1') {
  var isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
  var isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
  var isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined) {
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport) {
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour <= 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
    }
    window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
      if (Cookies.get('theme') === undefined) {
        e.matches ? activateDarkMode() : activateLightMode()
      }
    })
  } else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else if (autoChangeMode === '2') {
  now = new Date()
  hour = now.getHours()
  isNight = hour <= 6 || hour >= 18
  if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else {
  if (t === 'dark') activateDarkMode()
  else if (t === 'light') activateLightMode()
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: false,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false    
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isSidebar: false,
  postUpdate: '2022-03-15 23:33:31'
}</script><noscript><style>
#nav {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.1"></head><body><canvas class="fireworks"></canvas><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">11</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">3</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">3</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div></div></div><div id="body-wrap"><header class="full_page" id="page-header" style="background-image: url(/img/4.jpg)"><nav id="nav"><span class="pull-left" id="blog_name"><a class="blog_title" id="site-name" href="/">Sophia's Blog</a></span><span class="pull-right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="site-info"><h1 id="site_title">Sophia's Blog</h1><div id="site_subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/Sophia-Ann" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="/1577338747@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll_down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout_page" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2022/03/10/%E9%93%BE%E8%A1%A8/" title="链表">     <img class="post_bg" data-src="/img/l.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="链表"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/03/10/%E9%93%BE%E8%A1%A8/" title="链表">链表</a><div class="article-meta-wrap"><time class="post-meta__date" title="发表于 2022-03-10 14:23:38"><i class="far fa-calendar-alt"></i>2022-03-10</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a></span></div><div class="content">
嘤嘤嘤当初数据结构没学好，只能现在来补啦

链表(linked-list)：链表就是线性表的链式存储方式。链表的内存是不连续的，前一个元素存储地址的下一个地址中存储的不一定是下一个元素。链表通过一个指向下一个元素地址的引用将链表中的元素串起来。
单向链表
单向链表就如图所示
1234head为头指针head-&gt;val&#x3D;data1;head-&gt;next&#x3D;data2的指针域head-&gt;next-&gt;val&#x3D;data2

操作创建链表123456789101112131415161718192021typedef struct node&#123;    int val;    struct node* next;&#125;Node;Node* CreateNode(int val)&#123;    Node* newnode=(Node*)malloc(sizeof(Node));  //创建一个链表    if(newnode==NULL)   //判断链表是否是空链表    &#123;        cout&lt;&lt;" ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/01/21/%E6%AC%A2%E4%B9%90%E8%B5%9B1/" title="欢乐赛1">     <img class="post_bg" data-src="/img/f.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="欢乐赛1"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/01/21/%E6%AC%A2%E4%B9%90%E8%B5%9B1/" title="欢乐赛1">欢乐赛1</a><div class="article-meta-wrap"><time class="post-meta__date" title="发表于 2021-01-21 13:27:15"><i class="far fa-calendar-alt"></i>2021-01-21</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/pwn/">pwn</a></span></div><div class="content">for的wp0x00分析第一步看保护

很显然这道题开了canary，我们再仔细观察栈的时候会发现存在格式化字符串漏洞和栈溢出漏洞，并有后门函数存在



右后门函数，但因为存在canary保护，我们不能直接调用后门函数，但我们可以通过格式化字符串漏洞来泄露canary的值，再覆盖system的地址。

从上图我们可以很清楚的看到格式化字符串的偏移是7

从上图我们可以知道canary在字符串的实际参数后32个，对于格式化字符串就是32+7=39个
0x01exp123456789101112131415161718from pwn import *io=process('./for')context.log_level = 'debug'system_binsh_addr = 0x0804876Bio.sendlineafter("APP","2")payload="%39$p"io.sendline(payload)io.recvuntil("0x")canary = int(io.recv(8),16)print hex(canary)io.sendlineafter("exit ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/01/04/%E9%A1%BA%E5%BA%8F%E6%A0%88/" title="顺序栈">     <img class="post_bg" data-src="/img/h.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="顺序栈"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/01/04/%E9%A1%BA%E5%BA%8F%E6%A0%88/" title="顺序栈">顺序栈</a><div class="article-meta-wrap"><time class="post-meta__date" title="发表于 2021-01-04 13:40:08"><i class="far fa-calendar-alt"></i>2021-01-04</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a></span></div><div class="content">
大限将至，咸鱼的我决定开始极限复习数据结构，零零散散记一些笔记吧。

基础概念


栈类的定义12345678910111213141516171819202122232425262728293031const int MAX_SIZE=100;      //定义栈最大值常量class Stack&#123;    private:         char *data;         //属性：线性表         int size;           //属性：堆栈的实际大小         int top;            //属性：栈顶    public：        Stack();             //构造函数        Stack(int s);        //有参构造函数        ~Stack();            //析构函数        void push(char ch);  //成员函数：入栈        char pop();          //成员函数：出栈并返回栈顶元素        char get ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/10/18/%E5%85%A5%E9%97%A8%E9%A2%98%E9%A2%98%E8%A7%A3/" title="入门题题解">     <img class="post_bg" data-src="/img/g.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="入门题题解"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/10/18/%E5%85%A5%E9%97%A8%E9%A2%98%E9%A2%98%E8%A7%A3/" title="入门题题解">入门题题解</a><div class="article-meta-wrap"><time class="post-meta__date" title="发表于 2020-10-18 09:29:31"><i class="far fa-calendar-alt"></i>2020-10-18</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/pwn/">pwn</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/pwn/wp/">wp</a></span></div><div class="content">baby_栈溢出根据题目我们可以知悉这是一道简单的栈溢出题，那么我们就需要知道什么是栈溢出，我们又应该如何处理这道题呢？
预备知识一、栈溢出攻击原理缓冲区溢出的简单介绍缓冲区溢出：简单地说，缓冲区溢出就是超长的数据向小缓冲区复制，导致数据超出了小缓冲区，导致缓冲区其他的数据遭到破坏，这就是缓冲区溢出。而栈溢出是缓冲区溢出的一种，也是最常见的。只不过栈溢出发生在栈，堆溢出发生在堆。
栈的简单介绍栈（stack），它是一种运算受限的线性表，其限制是仅允许在表的一端进行插入和删除运算。人们把此端称为栈顶，栈顶的第一个元素被称为栈顶元素，相对地，把另一端称为栈底。向一个栈插入新元素又称为进栈或入栈，它是把该元素放到栈顶元素的上面，使之成为新的栈顶元素；从一个栈删除元素又称为出栈或退栈，它是把栈顶元素删除掉，使其下面的相邻元素成为新的栈顶元素。形象点说，就像洗碗，我们洗好的碗摞在一起，新洗好放在最上面是进栈，而我们把最上面的那个碗叫栈顶元素，当我们拿走最上面那个碗时叫出栈。也就是由于栈的插入和删除运算仅在栈顶一端进行，所以后进栈的元素必定先出栈。
栈溢出攻击因为栈空间内保存了函数的返回地址。该地 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/09/03/gactf/" title="gactf">     <img class="post_bg" data-src="/img/f.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="gactf"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/09/03/gactf/" title="gactf">gactf</a><div class="article-meta-wrap"><time class="post-meta__date" title="发表于 2020-09-03 16:13:15"><i class="far fa-calendar-alt"></i>2020-09-03</time></div><div class="content">最近几天打的比赛复现一下
MiscSignIn这道题就是拼图拼一下，扫一下二维码就出来了
Crymisc这道题我花了蛮久时间的，还是不会，最后是去看了其他师傅的wp，才看懂
他给的是一个.docx文件，把这个文件放到010 Editor里可以看到

我们可以很清楚的看到里面有PK，这告诉我们这是一个压缩包，就直接把文件的后缀名改成是.zip

打开这个压缩包，我们能看到里面有两个文件，其中3.jpg是加密的


我们先把那个不需要密码的1.txt打开，没有啥有用的信息，这时候我们就要考虑crymisc.zip采取的是伪加密，把它放入010 Editor看到确实是伪加密，那我们只需要将圈起来的地方改为00就破除了伪加密。


打开了3.jpg没啥有用的信息，我们就把它还是拖到010 Editor里分析，发现了一段太过规整的字符串，考虑base解密，然后得到了密钥
我们可以发现直接改后缀名解压是行不通的这时候，我们可以选择这段复制到新的十六制文件中，还有不要忘了加文件名PK(50 4B)

之后我们就可以把crymisc.txt文件解压出来，之后我们打开这个文件就发现了一串emoji

接 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/07/13/%E5%91%A8%E7%BB%83%E4%B8%80/" title="周练一（1）">     <img class="post_bg" data-src="/img/n.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="周练一（1）"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/07/13/%E5%91%A8%E7%BB%83%E4%B8%80/" title="周练一（1）">周练一（1）</a><div class="article-meta-wrap"><time class="post-meta__date" title="发表于 2020-07-13 17:55:21"><i class="far fa-calendar-alt"></i>2020-07-13</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/pwn/">pwn</a></span></div><div class="content">
第一次周练中的ciscn_s_3中有涉及到SROP知识点，复习一下

ciscn_s_3放到gdb里看一下保护没开什么特别的保护，丢到ida里面看看，它main函数里面只有一个vuln函数，而vuln函数就只有短短几行,但里面有两个系统调用，一处是sys_read,向栈上读取数据(0x400),一处是sys_write，向栈上写入数据(0x30),这里就存在栈溢出。然后还发现一个gadgets函数,在这个函数中有两处出现了给rax赋值，分别赋值0x0F,0x3B,然后这个涉及到系统调用号的问题。
32位与64位 系统调用的区别：
传参方式不同
系统调用号 不同
调用方式 不同

32位：传参方式：首先将系统调用号 传入 eax，然后将参数 从左到右 依次存入 ebx，ecx，edx寄存器中，返回值存在eax寄存器调用号：sys_read 的调用号 为 3 sys_write 的调用号 为 4调用方式: 使用 int 80h 中断进行系统调用64位：传参方式：首先将系统调用号 传入 rax，然后将参数 从左到右 依次存入 rdi，rsi，rdx寄存器中，返回值存在rax寄存器调用号：s ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/07/12/hello-world/" title="Hello World">     <img class="post_bg" data-src="/img/1.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hello World"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/07/12/hello-world/" title="Hello World">Hello World</a><div class="article-meta-wrap"><time class="post-meta__date" title="发表于 2020-07-12 12:14:07"><i class="far fa-calendar-alt"></i>2020-07-12</time></div><div class="content">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.
Quick StartCreate a new post1$ hexo new "My New Post"

More info: Writing
Run server1$ hexo server

More info: Server
Generate static files1$ hexo generate

More info: Generating
Deploy to remote sites1$ hexo deploy

More info: Deployment
</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/06/04/%E6%A0%A1%E8%B5%9B%E7%9A%84%E5%87%A0%E9%81%93%E9%A2%98/" title="校赛的几道题">     <img class="post_bg" data-src="/img/t.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="校赛的几道题"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/06/04/%E6%A0%A1%E8%B5%9B%E7%9A%84%E5%87%A0%E9%81%93%E9%A2%98/" title="校赛的几道题">校赛的几道题</a><div class="article-meta-wrap"><time class="post-meta__date" title="发表于 2020-06-04 16:27:00"><i class="far fa-calendar-alt"></i>2020-06-04</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/pwn/">pwn</a></span></div><div class="content">
校赛结束了，PWN题就做出来一个贼简单的题，羞愧，反省ing

pwn1这道题直接nc，然后ls，cat flag就出来了
pwn2放到ida里面看一下，就几行代码，看起来貌似很简单的亚子（并不）没有后门函数，我就想到了泄露libc,但没想到会涉及到onegadget(我知道它，但我不知道什么时候用，比如这次)因为要泄露libc就要想到公式：A真实地址-A的偏移地址 = B真实地址-B的偏移地址 = 基地址！那我们就要找到函数的偏移地址，先泄露函数的真实地址
1234567891011from pwn import*c &#x3D; process(&#39;.&#x2F;22&#39;)elf &#x3D; ELF(&#39;.&#x2F;22&#39;)read_got &#x3D; elf.got[&#39;read&#39;]payload&#x3D; &#39;%9$saaaa&#39;+p64(read_got) #偏移是%8，又加上&#39;aaaa&#39;所以这里写为%9c.sendline(payload)read_addr&#x3D;u64(c.recvunti ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/01/31/Rop/" title="Rop">     <img class="post_bg" data-src="/img/g.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Rop"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/01/31/Rop/" title="Rop">Rop</a><div class="article-meta-wrap"><time class="post-meta__date" title="发表于 2020-01-31 18:06:00"><i class="far fa-calendar-alt"></i>2020-01-31</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/pwn/">pwn</a></span></div><div class="content">ctfwiki上的Basic rop的复现0x00 ret2text这道题其实就是很简单很简单的栈溢出开虚拟机，放到gdb去看一下基本信息：嗯，几乎啥保护都没有！放到ida里看一下：gets那里发生了栈溢出，用gdb算出偏移量为112。接着我在secure函数中找到了system函数，然后又找到’/bin/sh/‘:之后就可以写攻击脚本：
123456789101112from pwn import *c&#x3D;process(&#39;.&#x2F;ret2text&#39;)system_addr&#x3D;0x08048490bin_addr&#x3D;0x08048763payload &#x3D; &#39;&#39;payload +&#x3D; &#39;a&#39;*112payload +&#x3D;p32(system_addr)+p32(0)+p32(bin_addr)c.sendline(payload)c.interactive()


0x01 ret2shellcode我觉得这道题首先要介绍一下，shellcode是什么。shellcode是一段用于利 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/01/22/%E7%BC%93%E5%86%B2%E5%8C%BA%E6%BA%A2%E5%87%BA/" title="缓冲区溢出">     <img class="post_bg" data-src="/img/5.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="缓冲区溢出"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/01/22/%E7%BC%93%E5%86%B2%E5%8C%BA%E6%BA%A2%E5%87%BA/" title="缓冲区溢出">缓冲区溢出</a><div class="article-meta-wrap"><time class="post-meta__date" title="发表于 2020-01-22 18:14:00"><i class="far fa-calendar-alt"></i>2020-01-22</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/pwn/">pwn</a></span></div><div class="content">
在嘉木的督促下，我去简略地听了一下嘉木推荐的慕课，本篇文章就所看慕课做一篇简略概述。

这一篇主要是讲越界访问和缓冲区溢出。
越界访问为什么会出现越界访问呢？这是由于数组元素可以由指针来访问，因而对数组的引用没有边界约束。因此在对数组的访问时可能会有意或无意地超越数组存储区范围而无法发现。数组存储区可看成一个缓冲区，超越数组存储区（越界访问）的写入操作称为缓冲区溢出。缓冲区溢出会被利用进行缓冲区溢出攻击，可导致程序运行失败、系统关机、重新启动等后果。造成缓冲区溢出的原因是没有对栈中作为缓冲区的数组的访问进行越界检查。
栗子这个漏洞就会给黑客留下机会。就像下面这个栗子所示一样可以看到，这个函数非常简单，只是单纯的读取一串字符，然后储存到buf中，但是开辟的缓存区只有0x10个字节大小，但是read最多可以读取0x100个字节，这样就会造成缓冲区溢出。这也就是简单地栈溢出，也就是将保存在栈中的ebp,ebx，返回地址覆盖掉。于是呢，我们就可以通过用我们输入的内容来将ebp,ebx,返回地址覆盖掉后加上自己想要执行的函数的地址，来控制程序执行自己想要执行的函数。这样就可以进行攻击啦。在这里 ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside_content" id="aside_content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><img class="avatar-img" src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">Sophia</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives"><div class="headline">文章</div><div class="length_num">11</div></a></div><div class="card-info-data-item is-center">      <a href="/tags"><div class="headline">标签</div><div class="length_num">3</div></a></div><div class="card-info-data-item is-center">     <a href="/categories"><div class="headline">分类</div><div class="length_num">3</div></a></div></div><div class="card-info-bookmark is-center"><button class="button--animated" id="bookmark-it" type="button" title="加入书签"><i class="fas fa-bookmark"></i><span>加入书签</span></button></div><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Sophia-Ann" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="/1577338747@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div></div><div class="card-widget card-announcement"><div class="card-content"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div></div><div class="card-widget card-recent-post"><div class="card-content"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-recent-item"><div class="aside-recent-post"><a href="/2022/03/10/%E9%93%BE%E8%A1%A8/"><div class="aside-post-cover"><img class="aside-post-bg" data-src="/img/l.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" title="链表" alt="链表"/></div><div class="aside-post-title"><div class="aside-post_title" href="/2022/03/10/%E9%93%BE%E8%A1%A8/" title="链表">链表</div><time class="aside-post_meta post-meta__date" title="发表于 2022-03-10 14:23:38">2022-03-10</time></div></a></div><div class="aside-recent-post"><a href="/2021/01/21/%E6%AC%A2%E4%B9%90%E8%B5%9B1/"><div class="aside-post-cover"><img class="aside-post-bg" data-src="/img/f.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" title="欢乐赛1" alt="欢乐赛1"/></div><div class="aside-post-title"><div class="aside-post_title" href="/2021/01/21/%E6%AC%A2%E4%B9%90%E8%B5%9B1/" title="欢乐赛1">欢乐赛1</div><time class="aside-post_meta post-meta__date" title="发表于 2021-01-21 13:27:15">2021-01-21</time></div></a></div><div class="aside-recent-post"><a href="/2021/01/04/%E9%A1%BA%E5%BA%8F%E6%A0%88/"><div class="aside-post-cover"><img class="aside-post-bg" data-src="/img/h.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" title="顺序栈" alt="顺序栈"/></div><div class="aside-post-title"><div class="aside-post_title" href="/2021/01/04/%E9%A1%BA%E5%BA%8F%E6%A0%88/" title="顺序栈">顺序栈</div><time class="aside-post_meta post-meta__date" title="发表于 2021-01-04 13:40:08">2021-01-04</time></div></a></div><div class="aside-recent-post"><a href="/2020/10/18/%E5%85%A5%E9%97%A8%E9%A2%98%E9%A2%98%E8%A7%A3/"><div class="aside-post-cover"><img class="aside-post-bg" data-src="/img/g.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" title="入门题题解" alt="入门题题解"/></div><div class="aside-post-title"><div class="aside-post_title" href="/2020/10/18/%E5%85%A5%E9%97%A8%E9%A2%98%E9%A2%98%E8%A7%A3/" title="入门题题解">入门题题解</div><time class="aside-post_meta post-meta__date" title="发表于 2020-10-18 09:29:31">2020-10-18</time></div></a></div><div class="aside-recent-post"><a href="/2020/09/03/gactf/"><div class="aside-post-cover"><img class="aside-post-bg" data-src="/img/f.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" title="gactf" alt="gactf"/></div><div class="aside-post-title"><div class="aside-post_title" href="/2020/09/03/gactf/" title="gactf">gactf</div><time class="aside-post_meta post-meta__date" title="发表于 2020-09-03 16:13:15">2020-09-03</time></div></a></div></div></div></div><div class="card-widget card-categories"><div class="card-content"><div class="item-headline"><i class="fas fa-folder-open"></i><span>分类</span></div><ul class="card-category-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/pwn/"><span class="card-category-list-name">pwn</span><span class="card-category-list-count">7</span></a></li><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/pwn/wp/"><span class="card-category-list-name">wp</span><span class="card-category-list-count">1</span></a></li></ul><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"><span class="card-category-list-name">数据结构</span><span class="card-category-list-count">2</span></a></li>
                       
            </ul></div></div><div class="card-widget card-tags"><div class="card-content"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/study/" style="font-size: 22px; color: #99a9bf">study</a> <a href="/tags/wp/" style="font-size: 22px; color: #99a9bf">wp</a> <a href="/tags/%E5%85%A5%E9%97%A8/" style="font-size: 16px; color: #999">入门</a></div></div></div><div class="card-widget card-archives"><div class="card-content"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/03/"><span class="card-archive-list-date">三月 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/01/"><span class="card-archive-list-date">一月 2021</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/10/"><span class="card-archive-list-date">十月 2020</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/09/"><span class="card-archive-list-date">九月 2020</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/07/"><span class="card-archive-list-date">七月 2020</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/06/"><span class="card-archive-list-date">六月 2020</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/01/"><span class="card-archive-list-date">一月 2020</span><span class="card-archive-list-count">3</span></a></li></ul></div></div><div class="card-widget card-webinfo"><div class="card-content"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="webinfo-article-name">文章数目 :</div><div class="webinfo-article-count">11</div></div><div class="webinfo-item">      <div class="webinfo-site-uv-name">本站访客数 :</div><div class="webinfo-site-uv-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="webinfo-site-name">本站总访问量 :</div><div class="webinfo-site-pv-count" id="busuanzi_value_site_pv"></div></div></div></div></div></div></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By Sophia</div><div class="framework-info"><span>驱动 </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="/js/third-party/fireworks.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module" defer></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js" async></script><script src="https://cdn.jsdelivr.net/npm/typed.js"></script><script>var subtitleEffect = true
if (subtitleEffect) { 
  var typed = new Typed("#subtitle", {
    strings: "生活明朗，万物可爱，人间值得，未来可期,Keep your eyes on the stars&#44;and your feet on the ground".split(","),
    startDelay: 300,
    typeSpeed: 150,
    loop: true,
    backSpeed: 50
  })
} else {
  document.getElementById("subtitle").innerHTML = '生活明朗，万物可爱，人间值得，未来可期'
}</script></body></html>